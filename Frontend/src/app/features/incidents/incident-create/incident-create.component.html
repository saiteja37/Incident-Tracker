<div class="modal-container">

  <div class="modal-header">
    <h2>Create New Incident</h2>

    <button mat-icon-button class="close-btn" (click)="close()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <form [formGroup]="form" (ngSubmit)="submit()">

    <mat-form-field appearance="fill">
      <mat-label>Title *</mat-label>
      <input matInput formControlName="title">
      <mat-error *ngIf="form.get('title')?.hasError('required')">
        Title is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Service *</mat-label>
      <mat-select formControlName="service">
        <mat-option value="Payments">Payments</mat-option>
        <mat-option value="Orders">Orders</mat-option>
        <mat-option value="Auth">Auth</mat-option>
      </mat-select>
    </mat-form-field>

    <div class="row">

      <mat-form-field appearance="fill">
        <mat-label>Severity *</mat-label>
        <mat-select formControlName="severity">
          <mat-option value="SEV1">SEV1</mat-option>
          <mat-option value="SEV2">SEV2</mat-option>
          <mat-option value="SEV3">SEV3</mat-option>
          <mat-option value="SEV4">SEV4</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Status</mat-label>
        <mat-select formControlName="status">
          <mat-option value="OPEN">OPEN</mat-option>
          <mat-option value="MITIGATED">MITIGATED</mat-option>
          <mat-option value="RESOLVED">RESOLVED</mat-option>
        </mat-select>
      </mat-form-field>

    </div>

    <mat-form-field appearance="fill">
      <mat-label>Owner</mat-label>
      <input matInput formControlName="owner">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Summary</mat-label>
      <input matInput  formControlName="summary" />
    </mat-form-field>

    <div class="actions">
      <button mat-button type="button" (click)="close()">Cancel</button>
      <button mat-raised-button color="primary" type="submit"
              [disabled]="form.invalid || loading">
       <span *ngIf="!loading">
  {{ isEditMode ? 'Update' : 'Create' }}
</span>
        <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
      </button>
    </div>

  </form>

</div>
